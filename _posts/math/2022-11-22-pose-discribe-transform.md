---
layout: post
title:  "位姿表示和转换"
date:   2024-01-05 11:20:55 +0800
categories: [Tech]
excerpt: 各种位姿表示方法以及互相转换，包括代码
tags:
  - 位姿表示
  - 
  - 
---
<!-- 正如这本书的名字《高效C++》，这本书的目的在于提高C++编程能力，而不是入门C++。如果你刚接触C++，别的书更适合，例如《快速C++》(accelerated C++)。 -->

旋转的表示方式有欧拉角、旋转矩阵、旋转向量、罗德里格斯公式、李群和李代数。位置的表示方式有齐次坐标。变换关系的表示方式有变换矩阵、


# <center>一、纯旋转

<br /> 
## 01. 欧拉角和旋转矩阵
* 欧拉角约束旋转顺序。通常按照x-->y-->z的顺序旋转。旋转顺序不同时，欧拉角表示的旋转矩阵不同。
* 内旋(intrinsic)/静态的每个旋转绕世界坐标系的坐标轴；外旋(extrinsic)/动态的旋转绕自身坐标轴，每次轴跟着旋转。
* 万向锁：动态欧拉角可能会丢失一个旋转分量???



## 02. 罗德里格斯和旋转矩阵
* 使用一个单位旋转轴k和绕轴旋转的角度Θ来描述(正方向右手定则)。
* K×v = 反对称矩阵K × 向量
* K的二范数 = KTK的最大特征值 = K的平凡数
* R = I + sinΘK + (1-cosΘ)K^2,参数为xyz和一个角


## 03. 旋转矩阵
* 任意两个行向量正交，任意两个列向量正交
* 任一行和任一列的模为1
* 正交矩阵：正交矩阵的逆 = 正交矩阵的转置

## 04. 旋转向量

## 05. 四元数
左手坐标系: B(x,y,z,w)<br />
右手坐标系: D(x,z,-y,w)

```C++
q2=-q1
q3=q2*q1.inverse();
// q3.xyz=0, q3.w=-1
```

## 09. 李群和李代数

# <center>二、位置

<br/>
## 01. 齐次坐标
## 

# <center>三、位姿和变换关系
<br/>
### 01. 位姿变换矩阵

### 02. 仿射

### 03. 平面方程
```
[a' b' c' d'] = [a b c d] * [T].inverse()
```

### 04. 
若绕静坐标系（世界坐标系）旋转，则左乘，也是变换矩阵*坐标矩阵；若是绕动坐标系旋转（自身建立一个坐标系），则右乘，也就是坐标矩阵*变换矩阵 左乘结果是 向量旋转 之后相对于原坐标系的位置， 右乘是参考系旋转移动后，向量(并未移动)相对于新参考系的坐标。


