---
layout: post
title:  "个人心得"
date:   2022-11-20 08:30:00 +0800
categories: [Tech]
excerpt: 在学习中的一些经验和心得
tags:
  - 
  - 
  - 
---

# 无人驾驶还是工业自动化
自动化的经典场景就是无人化的流水线，或者仅有少量工人的流水线。生产流程的大部分动作都由机器执行。传统的大规模工业中使用的流水线中，机器往往是针对该具体的生产场景高度特化的，也就是说，该机器几乎不能参与其余任务，只循环往复地执行同一动作。相应的，对于机器而言，其输入和输出都是经过完善定义的、标准化的。然而，对于流水线而言，其输入来自于真实世界，因此是完全不可控的、非标准化的。在具体的生产中，通常是人工(可以借助工具)来处理这些非标准化的输入，并为流水线提供标准化的输入。当前高度柔性化的自动化流水线属于工业界的重要发展方向，可以在替代人工的同时兼顾柔性化，但这同时也意味着流水线的复杂度指数提高，成本飙升。

根据场景的封闭程度，无人驾驶分为封闭、半封闭和开放。其中封闭场景有矿山、港口、园区、厂房。此处提到的园区和厂房，其区别主要是涉及的相关方的多少。园区内往往有很多企业，自动驾驶需要与很多相关方协调，例如路权的分配，可能涉及到的某个业主并不想让出路权。厂房则只有一个所有者，有很高的协商和便利空间，可以在路线、设施、人员等方面配合，甚至从最初的生产流程和生产设施设计时就深度嵌入无人驾驶。本封闭场景通常有干线物流，其场景为封闭的高速路，由驾驶系统应对高速中的相对简单环境，高速外的部分由人工接管来应付复杂的开放环境(这对无人驾驶来说属于非标准化的输入)。

这些瞄准具有封闭性的场景的无人驾驶，其本质更接近于工业自动化，即用无人的机器来代替一部分人工。如果以工业自动化的角度来看这些场景下的无人驾驶，则会有很多不同的思考。参考自动化中的要求，输入的标准化。如果输入是非标准化的，则由人工先处理为标准化的输入。

&emsp;&emsp;以我所在的矿山无人驾驶为例来说明自动化角度下的无人驾驶。矿山的工作流程主要有爆破-->装载-->车辆运输-->破碎-->皮带运输。后端的破碎和皮带运输的位置是固定的。而前端的爆破装载车辆运输，其装载位置和路线会随着矿山的开采而无规律(对于纯粹的运输者而言)地变动。这是第一个高度非标准化的环节，只能通过人工设定，至少需要人工设定大致范围。  
&emsp;&emsp;第二个非标准化环节，路线障碍物感知。在厂房内部，已经遵守5S等现代管理方式的企业能够以较小的成本保证行驶路线的障碍物和感知可控。障碍物的类型是有限的(能够产生碰撞的都视作障碍物)。环境是固定平滑的，包括生产设施，物料堆放位置，人员操作工位。

即使把当前讨论的矿山无人驾驶视作已经实现了自动化，其它环节的非标准化意味着大量人员的参与，也就意味着对于无人驾驶来说，对外部的一切感知。  

和普通道路相比，路面的石头是一个很重要的感知关键点。在颠簸不平的路面，低分辨率的激光雷达、毫米波雷达、超声波雷达都无法感知到会对轮胎造成重大损害的石头。对此有两种处理方案，一种是增加道路维护投入，维持道路的平整安全；另一种方案是使用视觉感知。
&emsp;&emsp;第三个非标准化  
&emsp;&emsp;上述非标准化带来的结果就是，矿山作为封闭场景，相比场景数量无限的开放道路，面临的问题要少得多，但是本身仍然是一个场景数量无限的应用环境，实质难度并没有明显降低。可行的方法依然是向厂房类型的无人运输靠拢，通过严格控制各个环节、提高各环节的标准化来降低难度，这样才有真正的可行性。  
&emsp;&emsp;对于第一个环节，把高动态的装载位置通过人为的处理转换为固定的装载位置，进一步可以固定路线。  
&emsp;&emsp;对于第二个环节，需要隔离与无人运输无关的保障功能。从系统的角度降低保障成本、保障所需时间，甚至可以选择牺牲部分无人运输的效率。这部分牺牲的效率，换来的是更高的标准化程度，更低的实现难度。如果能实现无人化运输，通过增加车辆的方式实现总运输能力的持平，从整个项目周期看，所有车辆的总损耗并不会显著增加，相比节省的人力成本不值一提。应该注意，并不能说购置和使用了更多车辆，就说成本是显著增加的，应当从所有车辆整体上的物理折旧和会计意义上的摊销的角度来看成本的增加值。  



某事物的存在性是某事物最重要的信息。  


视觉和激光里程计的关键是如何把当前帧的图像或点云与之前的图像或点云贴合。可以选择把整体贴合过去计算位姿变化，也可以选择只使用部分关键信息，把只贴合关键信息得到的位姿作为贴合的结果。后一种方法的计算量小，也会在一定程度上屏蔽掉当前帧的噪声。但这种方法隐含了一个前提，只要这部分关键信息能成功贴合，当前帧的整体就能成功贴合。  
如何用数学语言表示贴合的程度，然后如何寻找位姿的变化量以使提高贴合程度。  


在理解理念的基础改动源码是自上而下，对改动的认识更清楚;在熟悉代码的情况下改动是自下而上。  



# 是否有必要了解系统的其它组成部分
一个人维护的只是一小部分。



仿真测试项目
实车测试：2000+项

运行标准：场地标准，工作流程

考核后才能参与无人系统作业。

通用电动化车辆平台。增程、油车、电车、氢能源，这么多产品线？？？

新矿区多久下人：60天，混编(时间节点的规划)

标准化和体系化，设计时的应对场景丰富。交付标准化。全面的标准化。




对于狭窄路段等单行互斥区域，通过良好的调度，避免在互斥区外停车等待。需要考虑路权。

健康诊断：胎压，轨迹偏移量，定位精度

报表data analyze: 驾驶模式，通过不同运行参数自适应环境

UE4渲染3D地图，并实时重构；点云与地图匹配，匹配失效则更新地图。

航拍图(低精度)-->车载地图(高精度)-->无人车(实时地图)

仿真模块

行驶与装卸使用不同融合模式

激光雷达可以使用涂层降低沙尘的影响，需要识别路沿、石头

松耦合传感器生成BRE地图

矿区障碍物类型：人，动物，车，石头，土堆，水坑
活物停车，静态物体绕障，动态物体跟随

决策使用5次多项式规划路线，保证不撞和高效，尽量少改变控制状态，平稳运行

安全员下车+效率85%

挖机位置上传云端，根据地图计算装载位置，然后自主规划路径。



感知方案可以分为前景和背景两个部分进行。对背景进行三维建模，然后在使用中用背景的模型提高前景目标检测。对于积水和小土堆，传统分离地面的检测方案不如前背景分离的方式。可检测的土堆尺寸在25厘米。

BEV方案，可以实现背景三维建模，建立带有语义信息的三维占据网络。

侧方感知能力可应对U型弯道感知。可通过多车智能、路侧感知、增加相机的方式解决。

毫米波雷达和其它传感器的特征级融合较难，因为毫米波的结果较少。

面对雨雾沙尘雾霾天气，提高相机的高度在一定程度上可以缓解问题。

STF是一个通用的点云特征数据集，尤其是雨雾天气。